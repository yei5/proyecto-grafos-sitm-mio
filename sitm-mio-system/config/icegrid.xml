<icegrid>
    <application name="DatagramProcessing">
        
        <!-- ============================================ -->
        <!-- NODE MASTER: Host del Master -->
        <!-- IP: 192.168.131.121 -->
        <!-- ============================================ -->
        <node name="NodeMaster">
            <!-- Master Server -->
            <server id="DatagramMaster1" 
                    exe="java" 
                    activation="on-demand">
                <option>-jar</option>
                <option>datagram-master-service/build/libs/datagram-master-service-1.0.0-all.jar</option>
                
                <adapter name="DatagramMaster.Adapter" 
                         endpoints="tcp -h 0.0.0.0 -p 10010">
                    <object identity="DatagramMaster" 
                            type="::DatagramProcessing::DatagramMaster"/>
                </adapter>
                
                <property name="Ice.ThreadPool.Server.Size" value="10"/>
                <property name="Ice.ThreadPool.Server.SizeMax" value="50"/>
                <property name="Ice.Override.Timeout" value="60000"/>
            </server>
        </node>
        
        <!-- ============================================ -->
        <!-- NODE 2: Worker 1 -->
        <!-- IP: 192.168.131.115 -->
        <!-- ============================================ -->
        <node name="Node2">
            <server id="DatagramWorker1" 
                    exe="java" 
                    activation="on-demand">
                <option>-jar</option>
                <option>datagram-worker-service/build/libs/datagram-worker-service-1.0.0-all.jar</option>
                <option>10020</option>
                
                <adapter name="DatagramWorker.Adapter" 
                         endpoints="tcp -h 0.0.0.0 -p 10020">
                    <object identity="DatagramWorker1" 
                            type="::DatagramProcessing::DatagramWorker" 
                            property="Identity"/>
                </adapter>
                
                <property name="Ice.ThreadPool.Server.Size" value="5"/>
                <property name="Ice.ThreadPool.Server.SizeMax" value="20"/>
                <property name="Ice.Override.Timeout" value="300000"/>
            </server>
        </node>
        
        <!-- ============================================ -->
        <!-- NODE 3: Worker 2 -->
        <!-- IP: 192.168.131.117 -->
        <!-- ============================================ -->
        <node name="Node3">
            <server id="DatagramWorker2" 
                    exe="java" 
                    activation="on-demand">
                <option>-jar</option>
                <option>datagram-worker-service/build/libs/datagram-worker-service-1.0.0-all.jar</option>
                <option>10020</option>
                
                <adapter name="DatagramWorker.Adapter" 
                         endpoints="tcp -h 0.0.0.0 -p 10020">
                    <object identity="DatagramWorker2" 
                            type="::DatagramProcessing::DatagramWorker" 
                            property="Identity"/>
                </adapter>
                
                <property name="Ice.ThreadPool.Server.Size" value="5"/>
                <property name="Ice.ThreadPool.Server.SizeMax" value="20"/>
                <property name="Ice.Override.Timeout" value="300000"/>
            </server>
        </node>
        
        <!-- ============================================ -->
        <!-- NODE 4: Worker 3 -->
        <!-- IP: 192.168.131.118 -->
        <!-- ============================================ -->
        <node name="Node4">
            <server id="DatagramWorker3" 
                    exe="java" 
                    activation="on-demand">
                <option>-jar</option>
                <option>datagram-worker-service/build/libs/datagram-worker-service-1.0.0-all.jar</option>
                <option>10020</option>
                
                <adapter name="DatagramWorker.Adapter" 
                         endpoints="tcp -h 0.0.0.0 -p 10020">
                    <object identity="DatagramWorker3" 
                            type="::DatagramProcessing::DatagramWorker" 
                            property="Identity"/>
                </adapter>
                
                <property name="Ice.ThreadPool.Server.Size" value="5"/>
                <property name="Ice.ThreadPool.Server.SizeMax" value="20"/>
                <property name="Ice.Override.Timeout" value="300000"/>
            </server>
        </node>
        
        <!-- ============================================ -->
        <!-- NODE 5: Worker 4 -->
        <!-- IP: 192.168.131.119 -->
        <!-- ============================================ -->
        <node name="Node5">
            <server id="DatagramWorker4" 
                    exe="java" 
                    activation="on-demand">
                <option>-jar</option>
                <option>datagram-worker-service/build/libs/datagram-worker-service-1.0.0-all.jar</option>
                <option>10020</option>
                
                <adapter name="DatagramWorker.Adapter" 
                         endpoints="tcp -h 0.0.0.0 -p 10020">
                    <object identity="DatagramWorker4" 
                            type="::DatagramProcessing::DatagramWorker" 
                            property="Identity"/>
                </adapter>
                
                <property name="Ice.ThreadPool.Server.Size" value="5"/>
                <property name="Ice.ThreadPool.Server.SizeMax" value="20"/>
                <property name="Ice.Override.Timeout" value="300000"/>
            </server>
        </node>
        
    </application>
</icegrid>
